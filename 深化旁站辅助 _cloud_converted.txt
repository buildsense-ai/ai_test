深化旁站辅助
ID: FEAT-PS-001
标题: 深化旁站辅助 (AI 智能引导旁站记录与报告生成)
关联版本: 建议在 MVP v1 和规范问答模块 (FEAT-KB-001) 基础之上进行迭代
1. 目标 (Goal)
本模块旨在为现场监理工程师提供一个智能化的旁站监理记录工具。通过 AI 驱动的交互式引导，帮助用户在旁站过程中规范、完整地记录旁站活动的关键信息（如准备情况、过程合规性、关键参数、结论等）。对于旁站过程中发现的具体问题，系统将引导用户创建独立的“问题记录卡”（利用 MVP v1 功能），并在本次旁站活动记录中建立关联。最终目标是自动生成符合标准格式（如广东统表）的《旁站监理记录》Word 文档初稿，显著提升旁站记录工作的效率和质量。
2. 用户需求
核心需求：用户需要一个能轻松、规范、完整地完成旁站记录工作（记录过程、关联问题），并快速生成符合要求的旁站记录表的方法。
便捷启动旁站记录: 用户希望能在常用的交互界面（如飞书对话、巡检助手应用）通过简单明确的指令（如“开始旁站三层梁板混凝土浇筑”）或自然语言，快速启动一次完整的旁站记录会话。
获取针对性引导: 用户期望 AI 助手能识别出具体的旁站工序/部位，并基于此提供有针对性的引导，主动提示该项旁站需要关注和记录的关键环节与核心参数（如施工准备、操作步骤、关键数据点）。
规范要点提醒: 用户希望在旁站过程中，AI 能适时提示相关的规范要求或标准值（可调用“规范问答”模块），帮助其判断现场情况是否符合要求。
灵活记录过程与关联问题:
用户需要能方便地通过文字、语音回复 AI 的引导提问，记录观察到的旁站过程情况、关键数据、以及对过程合规性的判断。
当在旁站过程中发现具体问题时，用户希望 AI 能引导或方便其快速创建一条独立的“问题记录卡”（包含问题描述、照片等，复用 MVP v1 的问题记录流程）。
结构化信息自动整理: 用户期望 AI 能将整个旁站交互过程中记录的信息（包括活动元数据：时间、地点、工序；过程记录：准备情况、关键参数、操作步骤；发现问题的摘要及对应的问题卡链接；旁站结论等）自动整理成结构化的数据，存储为一个代表本次完整旁站活动的记录卡片。
旁站记录便捷查看与管理: 用户需要在 H5 看板上能清晰地查看和管理所有完成的“旁站活动记录”卡片，并能通过卡片上的链接方便地跳转到相关的“问题记录卡片”。
一键生成旁站记录表: 用户希望在旁站结束后或在看板上，能基于“旁站活动记录”卡片信息（包含过程记录和关联问题摘要），一键生成符合标准格式（如广东统表）的《旁站监理记录》Word 文档初稿。
记录可追溯与编辑: 用户需要能方便地回顾某次旁站记录的详细交互过程，并对记录卡片中的部分信息（如结论、补充说明）进行有限度的编辑。
3. 范围 (Scope)
3.1  包含 (In Scope - 用户视角)
支持用户通过指令或自然语言启动特定工序/部位的旁站记录会话。
AI 助手能识别核心旁站对象，并提供针对性的交互式引导（提问、提示），聚焦于记录旁站过程。
AI 引导过程中可调用“规范问答”模块，提供相关标准信息。
支持用户通过文本、语音（转文字）记录旁站过程信息。
支持在旁站交互中，引导或触发创建独立的“问题记录卡”（利用 MVP v1 功能），并记录问题照片。
将旁站过程信息（含关联的问题卡摘要/链接）结构化，生成一个“旁站活动记录”卡片并存储。
在 H5 看板上展示、筛选、查看“旁站活动记录”卡片，并提供到关联“问题记录卡”的链接。
支持基于“旁站活动记录”卡片，自动生成符合指定模板（如广东统表）的《旁站监理记录》Word 文档初稿（文档中应包含旁站过程记录和发现问题的摘要）。
提供对旁站活动记录卡片部分内容的编辑功能。
3.2  不包含 (Out of Scope - 用户视角)
在“旁站活动记录卡”内详细跟踪问题的处理状态和闭环过程（问题跟踪由独立的“问题记录卡”及其流程负责）。
覆盖所有可能的旁站工序: 初期版本可能只支持几种最常见、最重要的旁站类型（如混凝土、钢筋、关键防水等），需要明确范围。
完全自动化的旁站判断: AI 不负责判断某个工序是否“必须”旁站，启动仍需用户发起。
复杂的在线编辑功能: 对已完成的旁站记录的编辑可能有限制(形成docs，让用户下载编辑初稿）。
在线多方签认旁站记录。
4. 关键用户体验要求 (Key User Experience Requirements)
引导清晰专业: AI 的提问和引导必须符合旁站工作的实际逻辑和专业要求，聚焦过程记录。
交互流畅自然: 用户与 AI 的对话应尽可能流畅。在旁站过程中记录问题应便捷，不打断旁站记录主流程。
信息记录准确完整: 系统必须能准确捕捉和结构化用户在交互中提供的过程信息，并准确关联到独立记录的问题卡。
文档生成准确合规: 生成的《旁站监理记录》初稿必须准确反映记录的过程内容和发现问题的摘要，并严格符合指定的模板格式。
易于上手: 用户应能快速学会如何启动和完成一次旁站记录，并理解问题是如何被分开记录和关联的。
【新增】交互灵活性与鲁棒性:
处理中断: 系统应能理解用户在旁站引导流程中插入的临时提问或请求（如查询规范），在处理完临时请求后，能主动引导用户返回之前的旁站记录任务，并保持上下文连贯。
处理不完整回复: 当用户对 AI 的多点引导提示只回复了部分内容时，系统应能记录已有信息，并智能地、非重复地追问缺失的关键信息。
处理非顺序信息: 系统应能识别并记录用户提前或不按顺序提供的旁站相关信息，并在后续引导流程中避免重复提问。
容错性: 对于用户不清晰或系统无法完全理解的输入，应提供友好的提示或澄清请求，而不是直接中断或报错。
5. 对其他模块的依赖 (Dependencies)
依赖“规范智能问答 / 知识库”模块 (FEAT-KB-001): 用于在引导过程中提供规范标准信息。
依赖 MVP v1 的“问题记录与管理”模块: 用于创建和管理旁站过程中发现的问题。
依赖 H5 看板基础架构: 用于展示和管理旁站活动记录卡片及问题记录卡片。
依赖文档生成服务: 用于生成 Word 文档。
模拟对话：模拟对话：AI 辅助旁站监理记录